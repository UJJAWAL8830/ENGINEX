<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JanSetu | Citizen Dashboard</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:ital,wght@0,600;0,700;1,600&family=Outfit:wght@700&display=swap"
        rel="stylesheet">

    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        body {
            font-family: 'Inter', sans-serif;
        }

        h1,
        h2,
        h3 {
            font-family: 'Playfair Display', serif;
        }

        .font-logo {
            font-family: 'Outfit', sans-serif;
            letter-spacing: -0.02em;
        }

        .fade-in-up {
            animation: fadeInUp 0.8s ease-out forwards;
            opacity: 0;
            transform: translateY(20px);
        }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .glass-panel {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(0, 0, 0, 0.05);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.05);
        }

        .ticker-wrap {
            width: 100%;
            overflow: hidden;
            background-color: #fef3c7;
            padding-left: 100%;
            box-sizing: border-box;
        }

        .ticker {
            display: inline-block;
            white-space: nowrap;
            padding-right: 100%;
            box-sizing: border-box;
            animation: ticker 30s linear infinite;
        }

        @keyframes ticker {
            0% {
                transform: translate3d(0, 0, 0);
            }

            100% {
                transform: translate3d(-100%, 0, 0);
            }
        }

        .nav-lamp {
            transition: left 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275), width 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        /* Custom Radio for AI Section */
        .custom-radio:checked+div {
            border-color: #d97706;
            background-color: #fff7ed;
            color: #d97706;
        }
    </style>
</head>

<body class="bg-[#f2f0e9] text-stone-800 antialiased selection:bg-amber-200">

    <div
        class="fixed top-0 z-[60] w-full h-8 bg-amber-100 border-b border-amber-200 flex items-center text-xs font-bold text-amber-900">
        <div class="px-4 bg-amber-200 h-full flex items-center z-10 shadow-sm">LATEST UPDATES:</div>
        <div class="ticker-wrap h-full flex items-center">
            <div class="ticker">
                PM Kisan installment credited • Polio Vaccination Camp this Sunday at all District Hospitals • Deadline
                for Income Tax filing extended to 31st July • Heavy Rain Alert in Coastal Districts • New Subsidy for
                Solar Panels announced.
            </div>
        </div>
    </div>

    <div class="fixed top-12 left-4 md:left-8 z-50 flex items-center">
        <a href="/citizen/home"
            class="flex items-center gap-2 bg-white/50 backdrop-blur-md px-4 py-2 rounded-full border border-stone-200/50 shadow-sm">
            <span class="font-logo text-2xl font-extrabold text-stone-900 tracking-tight">JANSETU</span>
        </a>
    </div>

    <div class="fixed top-12 left-1/2 -translate-x-1/2 z-50">
        <div
            class="flex items-center gap-1 bg-white/60 border border-stone-200/50 backdrop-blur-xl py-1 px-1 rounded-full shadow-lg relative">

            <div id="active-lamp" class="nav-lamp absolute inset-y-1 bg-amber-100/50 rounded-full -z-10 opacity-0">
                <div class="absolute -top-2 left-1/2 -translate-x-1/2 w-8 h-1 bg-amber-500 rounded-t-full">
                    <div class="absolute w-12 h-6 bg-amber-500/20 rounded-full blur-md -top-2 -left-2"></div>
                    <div class="absolute w-8 h-6 bg-amber-500/20 rounded-full blur-md -top-1"></div>
                    <div class="absolute w-4 h-4 bg-amber-500/20 rounded-full blur-sm top-0 left-2"></div>
                </div>
            </div>

            <a href="/citizen/home" id="nav-dashboard"
                class="nav-item relative cursor-pointer text-sm font-semibold px-6 py-2 rounded-full transition-colors text-stone-600 hover:text-amber-600"
                onclick="setActive(this)">
                <span class="hidden md:inline">Dashboard</span>
                <span class="md:hidden"><i data-lucide="layout-dashboard" class="w-5 h-5"></i></span>
            </a>

            <a href="/citizen/services"
                class="nav-item relative cursor-pointer text-sm font-semibold px-6 py-2 rounded-full transition-colors text-stone-600 hover:text-amber-600"
                onclick="setActive(this)">
                <span class="hidden md:inline">Services</span>
                <span class="md:hidden"><i data-lucide="layers" class="w-5 h-5"></i></span>
            </a>

            <a href="/citizen/news"
                class="nav-item relative cursor-pointer text-sm font-semibold px-6 py-2 rounded-full transition-colors text-stone-600 hover:text-amber-600"
                onclick="setActive(this)">
                <span class="hidden md:inline">Notices</span>
                <span class="md:hidden"><i data-lucide="bell" class="w-5 h-5"></i></span>
            </a>

        </div>
    </div>

    <div class="fixed top-12 right-4 md:right-8 z-50 flex items-center gap-3">
        <div
            class="hidden md:flex items-center gap-3 px-3 py-1.5 bg-white/60 backdrop-blur-md rounded-full border border-stone-200/50 shadow-sm">
            
            <img src="https://ui-avatars.com/api/?name={{ user.full_name }}&background=1c1917&color=fff"
            class="w-8 h-8 rounded-full border-2 border-amber-100">
            <span class="text-xs font-bold text-stone-800 leading-none">
                {{ user.full_name }}
            </span>
                <span class="text-[10px] text-green-600 font-bold leading-none">Verified</span>
            </div>
        </div>
        <a href="/logout"
            class="p-2.5 bg-white/60 backdrop-blur-md rounded-full text-stone-500 hover:text-red-600 hover:bg-red-50 transition-all shadow-sm border border-stone-200/50">
            <i data-lucide="power" class="w-5 h-5"></i>
        </a>
    </div>

    <section class="relative w-full pt-40 pb-32 overflow-hidden bg-stone-900 rounded-b-[3rem] shadow-2xl">

        <img src="https://images.unsplash.com/photo-1477959858617-67f85cf4f1df?q=80&w=2144&auto=format&fit=crop"
            class="absolute inset-0 w-full h-full object-cover opacity-30 mix-blend-luminosity">
        <div class="absolute inset-0 bg-gradient-to-t from-stone-900 via-stone-900/60 to-transparent"></div>

        <div
            class="relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col md:flex-row justify-between items-end pb-12">
            <div class="max-w-2xl mb-8 md:mb-0 fade-in-up">
                <div
                    class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-amber-500/20 border border-amber-500/30 text-amber-300 text-xs font-bold uppercase mb-4">
                    <span class="w-2 h-2 rounded-full bg-amber-400 animate-pulse"></span> Live System
                </div>
                <h1 class="text-4xl md:text-6xl font-bold text-white mb-4 leading-tight">
                    One Platform. <br> Endless Possibilities.
                </h1>
                <p class="text-stone-300 text-lg font-light max-w-lg">
                    Manage your identity, finances, and government requests from a single secure dashboard.
                </p>
            </div>

            <div class="text-right text-stone-400 fade-in-up" style="animation-delay: 0.2s;">
                <p class="text-3xl font-bold text-white" id="clock">10:42 AM</p>
                <p class="text-sm font-medium">Saturday, 27 Jan 2026</p>
                <p class="text-xs mt-1 text-amber-500">Ahmedabad • 28°C AQI 112</p>
            </div>
        </div>
    </section>

    <section class="relative z-20 -mt-20 px-4 sm:px-6 lg:px-8">
        <div class="max-w-7xl mx-auto">
            <div
                class="glass-panel rounded-3xl shadow-2xl p-8 grid grid-cols-1 md:grid-cols-3 gap-8 divide-y md:divide-y-0 md:divide-x divide-stone-200/50">

                <div class="flex items-center gap-5 px-4 hover:scale-105 transition-transform duration-300">
                    <div
                        class="w-14 h-14 rounded-2xl bg-green-50 flex items-center justify-center border border-green-100 shadow-inner">
                        <i data-lucide="indian-rupee" class="h-7 w-7 text-green-600"></i>
                    </div>
                    <div>
                        <p class="text-xs font-bold text-stone-400 uppercase tracking-wider">DBT Balance</p>
                        <h3 class="text-3xl font-bold text-stone-800">₹ 6,000.00</h3>
                        <p class="text-xs font-medium text-green-600 flex items-center gap-1 mt-1">
                            <i data-lucide="check-circle" class="w-3 h-3"></i> Credited via PM-KISAN
                        </p>
                    </div>
                </div>

                <div class="flex items-center gap-5 px-4 hover:scale-105 transition-transform duration-300">
                    <div
                        class="w-14 h-14 rounded-2xl bg-blue-50 flex items-center justify-center border border-blue-100 shadow-inner">
                        <i data-lucide="fingerprint" class="h-7 w-7 text-blue-600"></i>
                    </div>
                    <div>
                        <p class="text-xs font-bold text-stone-400 uppercase tracking-wider">Digital Identity</p>
                        <h3 class="text-3xl font-bold text-stone-800">Verified</h3>
                        <p class="text-xs font-medium text-stone-500 mt-1">Aadhaar, PAN, DL Linked</p>
                    </div>
                </div>

                <div class="flex items-center gap-5 px-4 hover:scale-105 transition-transform duration-300">
                    <div
                        class="w-14 h-14 rounded-2xl bg-orange-50 flex items-center justify-center border border-orange-100 shadow-inner">
                        <i data-lucide="clock" class="h-7 w-7 text-orange-600"></i>
                    </div>
                    <div>
                        <p class="text-xs font-bold text-stone-400 uppercase tracking-wider">Active Requests</p>
                        <h3 class="text-3xl font-bold text-stone-800">1 Pending</h3>
                        <p class="text-xs font-medium text-orange-600 mt-1">Passport Renewal - Step 2</p>
                    </div>
                </div>

            </div>
        </div>
    </section>

    <section class="py-16 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">

            <div class="lg:col-span-2 space-y-8">

                <div
                    class="bg-white p-8 rounded-3xl border border-stone-100 shadow-sm hover:shadow-lg transition-shadow">
                    <h3 class="text-sm font-bold text-stone-500 uppercase mb-6 tracking-widest">Priority Actions</h3>
                    <div class="grid grid-cols-4 gap-6 text-center">
                        <a href="#" class="group flex flex-col items-center gap-3">
                            <div
                                class="w-16 h-16 rounded-2xl bg-red-50 border border-red-100 flex items-center justify-center group-hover:bg-red-600 group-hover:shadow-lg group-hover:shadow-red-200 transition-all duration-300">
                                <i data-lucide="sos" class="h-7 w-7 text-red-600 group-hover:text-white"></i>
                            </div>
                            <span
                                class="text-xs font-bold text-stone-600 group-hover:text-red-700 transition-colors">SOS
                                Safety</span>
                        </a>
                        <a href="#" class="group flex flex-col items-center gap-3">
                            <div
                                class="w-16 h-16 rounded-2xl bg-blue-50 border border-blue-100 flex items-center justify-center group-hover:bg-blue-600 group-hover:shadow-lg group-hover:shadow-blue-200 transition-all duration-300">
                                <i data-lucide="folder-lock" class="h-7 w-7 text-blue-600 group-hover:text-white"></i>
                            </div>
                            <span
                                class="text-xs font-bold text-stone-600 group-hover:text-blue-700 transition-colors">DigiLocker</span>
                        </a>
                        <a href="#" class="group flex flex-col items-center gap-3">
                            <div
                                class="w-16 h-16 rounded-2xl bg-amber-50 border border-amber-100 flex items-center justify-center group-hover:bg-amber-600 group-hover:shadow-lg group-hover:shadow-amber-200 transition-all duration-300">
                                <i data-lucide="alert-octagon"
                                    class="h-7 w-7 text-amber-600 group-hover:text-white"></i>
                            </div>
                            <span
                                class="text-xs font-bold text-stone-600 group-hover:text-amber-700 transition-colors">Grievance</span>
                        </a>
                        <a href="#" class="group flex flex-col items-center gap-3">
                            <div
                                class="w-16 h-16 rounded-2xl bg-purple-50 border border-purple-100 flex items-center justify-center group-hover:bg-purple-600 group-hover:shadow-lg group-hover:shadow-purple-200 transition-all duration-300">
                                <i data-lucide="users" class="h-7 w-7 text-purple-600 group-hover:text-white"></i>
                            </div>
                            <span
                                class="text-xs font-bold text-stone-600 group-hover:text-purple-700 transition-colors">Family
                                ID</span>
                        </a>
                    </div>
                </div>

                <div
                    class="bg-white p-8 rounded-3xl border border-stone-100 shadow-sm hover:shadow-lg transition-shadow">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-lg font-bold text-stone-800">Benefits Received Analysis</h3>
                        <select
                            class="text-xs bg-stone-100 border-none rounded-lg px-3 py-1.5 text-stone-600 cursor-pointer font-bold outline-none hover:bg-stone-200 transition">
                            <option>FY 2025-26</option>
                            <option>FY 2024-25</option>
                        </select>
                    </div>
                    <div class="h-64 w-full">
                        <canvas id="benefitsChart"></canvas>
                    </div>
                </div>

                <div
                    class="bg-white rounded-3xl border border-stone-100 shadow-sm overflow-hidden hover:shadow-lg transition-shadow">
                    <div class="px-8 py-5 border-b border-stone-100 bg-stone-50/50">
                        <h3 class="text-sm font-bold text-stone-700 uppercase tracking-widest">Recent Interactions</h3>
                    </div>
                    <table class="w-full text-sm text-left">
                        <thead class="text-xs text-stone-400 uppercase bg-stone-50/30">
                            <tr>
                                <th class="px-8 py-4 font-semibold">Service</th>
                                <th class="px-8 py-4 font-semibold">Date</th>
                                <th class="px-8 py-4 font-semibold">Status</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-stone-50">
                            <tr class="hover:bg-stone-50/50 transition-colors">
                                <td class="px-8 py-5 font-medium text-stone-800">Electricity Bill Payment</td>
                                <td class="px-8 py-5 text-stone-500">Jan 25, 2026</td>
                                <td class="px-8 py-5"><span
                                        class="bg-green-100 text-green-700 px-3 py-1 rounded-full text-xs font-bold">Success</span>
                                </td>
                            </tr>
                            <tr class="hover:bg-stone-50/50 transition-colors">
                                <td class="px-8 py-5 font-medium text-stone-800">Pothole Report (#8821)</td>
                                <td class="px-8 py-5 text-stone-500">Jan 22, 2026</td>
                                <td class="px-8 py-5"><span
                                        class="bg-orange-100 text-orange-700 px-3 py-1 rounded-full text-xs font-bold">In
                                        Progress</span></td>
                            </tr>
                            <tr class="hover:bg-stone-50/50 transition-colors">
                                <td class="px-8 py-5 font-medium text-stone-800">Tele-consultation</td>
                                <td class="px-8 py-5 text-stone-500">Jan 18, 2026</td>
                                <td class="px-8 py-5"><span
                                        class="bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-xs font-bold">Completed</span>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>

            </div>

            <div class="space-y-8">

                <div class="bg-stone-900 text-white p-8 rounded-3xl shadow-2xl relative overflow-hidden group">
                    <div
                        class="absolute top-0 right-0 w-48 h-48 bg-amber-500 rounded-full blur-[60px] opacity-20 -mr-16 -mt-16 group-hover:opacity-30 transition-opacity duration-500">
                    </div>
                    <h3 class="text-xl font-bold mb-2 font-logo">Schemes For You</h3>
                    <p class="text-stone-400 text-sm mb-8">Based on your profile, you are eligible for 3 new government
                        benefits.</p>

                    <div class="space-y-3">
                        <div
                            class="bg-white/5 p-4 rounded-xl flex items-center justify-between hover:bg-white/10 cursor-pointer transition-all border border-white/5 hover:border-white/20">
                            <span class="text-sm font-medium">PM Surya Ghar Yojana</span>
                            <i data-lucide="chevron-right" class="w-4 h-4 text-amber-400"></i>
                        </div>
                        <div
                            class="bg-white/5 p-4 rounded-xl flex items-center justify-between hover:bg-white/10 cursor-pointer transition-all border border-white/5 hover:border-white/20">
                            <span class="text-sm font-medium">Ayushman Bharat</span>
                            <i data-lucide="chevron-right" class="w-4 h-4 text-amber-400"></i>
                        </div>
                        <div
                            class="bg-white/5 p-4 rounded-xl flex items-center justify-between hover:bg-white/10 cursor-pointer transition-all border border-white/5 hover:border-white/20">
                            <span class="text-sm font-medium">Skill India Mission</span>
                            <i data-lucide="chevron-right" class="w-4 h-4 text-amber-400"></i>
                        </div>
                    </div>

                    <button
                        class="w-full mt-8 bg-amber-600 hover:bg-amber-500 text-white font-bold py-4 rounded-xl transition-all shadow-lg hover:shadow-amber-900/50">
                        Apply Now
                    </button>
                </div>

                <div
                    class="bg-white p-6 rounded-3xl border border-stone-100 shadow-sm hover:shadow-lg transition-shadow">
                    <h3 class="text-sm font-bold text-stone-700 mb-4 uppercase tracking-widest">Nearby Services</h3>
                    <div class="w-full h-48 bg-stone-100 rounded-2xl relative overflow-hidden group">
                        <img src="https://images.unsplash.com/photo-1524661135-423995f22d0b?q=80&w=2074&auto=format&fit=crop"
                            class="w-full h-full object-cover opacity-60 group-hover:scale-110 transition-transform duration-700">
                        <div class="absolute inset-0 flex items-center justify-center">
                            <button
                                class="bg-white/90 backdrop-blur px-5 py-2.5 rounded-xl text-xs font-bold shadow-md flex items-center gap-2 hover:bg-white transition">
                                <i data-lucide="map-pin" class="w-3 h-3 text-red-500"></i> View Map
                            </button>
                        </div>
                    </div>
                    <div class="mt-6 space-y-4">
                        <div class="flex justify-between text-xs pb-3 border-b border-stone-50">
                            <span class="text-stone-500">Civil Hospital</span>
                            <span class="font-bold text-stone-800">1.2 km</span>
                        </div>
                        <div class="flex justify-between text-xs pb-3 border-b border-stone-50">
                            <span class="text-stone-500">Police Station</span>
                            <span class="font-bold text-stone-800">0.8 km</span>
                        </div>
                        <div class="flex justify-between text-xs">
                            <span class="text-stone-500">APMC Market</span>
                            <span class="font-bold text-stone-800">3.5 km</span>
                        </div>
                    </div>
                </div>

            </div>

        </div>
    </section>

    <section class="py-20 bg-amber-50/50 border-t border-amber-100/50">
        <div class="max-w-4xl mx-auto px-4 text-center">
            <div
                class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-amber-100 text-amber-800 text-xs font-bold uppercase mb-4 border border-amber-200">
                <i data-lucide="sparkles" class="w-4 h-4"></i> AI Powered Eligibility Check
            </div>
            <h1 class="text-4xl md:text-5xl font-bold text-stone-900 mb-6 font-logo">Find the perfect <span
                    class="text-amber-600">Government Scheme</span> for you.</h1>
            <p class="text-lg text-stone-600 mb-12">
                Tell our AI about yourself, and we will find the top 3 matches instantly.
            </p>
        </div>

        <div class="max-w-3xl mx-auto px-4">
            <div class="bg-white rounded-[2rem] shadow-xl border border-stone-100 overflow-hidden">
                <div class="bg-stone-50 px-8 py-4 border-b border-stone-100 flex justify-between items-center">
                    <h3 class="font-bold text-stone-700">Your Profile</h3>
                    <span class="text-xs text-stone-400 bg-white px-2 py-1 rounded border border-stone-200">Step 1 of
                        1</span>
                </div>

                <div class="p-8 space-y-8">
                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-xs font-bold text-stone-500 uppercase mb-2">Age</label>
                            <input type="number" id="inAge" placeholder="e.g. 24"
                                class="w-full p-4 bg-stone-50 border border-stone-200 rounded-xl focus:ring-2 focus:ring-amber-500 outline-none transition font-medium">
                        </div>
                        <div>
                            <label class="block text-xs font-bold text-stone-500 uppercase mb-2">Gender</label>
                            <div class="relative">
                                <select id="inGender"
                                    class="w-full p-4 bg-stone-50 border border-stone-200 rounded-xl outline-none font-medium appearance-none cursor-pointer">
                                    <option value="Male">Male</option>
                                    <option value="Female">Female</option>
                                    <option value="Other">Other</option>
                                </select>
                                <i data-lucide="chevron-down"
                                    class="absolute right-4 top-4 w-5 h-5 text-stone-400 pointer-events-none"></i>
                            </div>
                        </div>
                    </div>

                    <div>
                        <label class="block text-xs font-bold text-stone-500 uppercase mb-3">Occupation</label>
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
                            <label class="cursor-pointer group">
                                <input type="radio" name="occ" value="Student" class="custom-radio hidden" checked>
                                <div
                                    class="border border-stone-200 rounded-xl p-4 text-center hover:bg-stone-50 transition group-hover:border-stone-300">
                                    <span class="text-sm font-bold">Student</span>
                                </div>
                            </label>
                            <label class="cursor-pointer group">
                                <input type="radio" name="occ" value="Farmer" class="custom-radio hidden">
                                <div
                                    class="border border-stone-200 rounded-xl p-4 text-center hover:bg-stone-50 transition group-hover:border-stone-300">
                                    <span class="text-sm font-bold">Farmer</span>
                                </div>
                            </label>
                            <label class="cursor-pointer group">
                                <input type="radio" name="occ" value="Business" class="custom-radio hidden">
                                <div
                                    class="border border-stone-200 rounded-xl p-4 text-center hover:bg-stone-50 transition group-hover:border-stone-300">
                                    <span class="text-sm font-bold">Business</span>
                                </div>
                            </label>
                            <label class="cursor-pointer group">
                                <input type="radio" name="occ" value="Unemployed" class="custom-radio hidden">
                                <div
                                    class="border border-stone-200 rounded-xl p-4 text-center hover:bg-stone-50 transition group-hover:border-stone-300">
                                    <span class="text-sm font-bold">None</span>
                                </div>
                            </label>
                        </div>
                    </div>

                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-xs font-bold text-stone-500 uppercase mb-2">Annual Family Income
                                (₹)</label>
                            <input type="number" id="inIncome" placeholder="e.g. 150000"
                                class="w-full p-4 bg-stone-50 border border-stone-200 rounded-xl focus:ring-2 focus:ring-amber-500 outline-none transition font-medium">
                        </div>
                        <div>
                            <label class="block text-xs font-bold text-stone-500 uppercase mb-2">State</label>
                            <div class="relative">
                                <select id="inState"
                                    class="w-full p-4 bg-stone-50 border border-stone-200 rounded-xl outline-none font-medium appearance-none cursor-pointer">
                                    <option value="Gujarat">Gujarat</option>
                                    <option value="Maharashtra">Maharashtra</option>
                                    <option value="Rajasthan">Rajasthan</option>
                                    <option value="Delhi">Delhi</option>
                                </select>
                                <i data-lucide="chevron-down"
                                    class="absolute right-4 top-4 w-5 h-5 text-stone-400 pointer-events-none"></i>
                            </div>
                        </div>
                    </div>

                    <div>
                        <label class="block text-xs font-bold text-stone-500 uppercase mb-2">Category</label>
                        <div class="relative">
                            <select id="inCategory"
                                class="w-full p-4 bg-stone-50 border border-stone-200 rounded-xl outline-none font-medium appearance-none cursor-pointer">
                                <option value="General">General</option>
                                <option value="OBC">OBC</option>
                                <option value="SC/ST">SC / ST</option>
                                <option value="EWS">EWS</option>
                            </select>
                            <i data-lucide="chevron-down"
                                class="absolute right-4 top-4 w-5 h-5 text-stone-400 pointer-events-none"></i>
                        </div>
                    </div>

                    <button onclick="findSchemes()" id="btnFind"
                        class="w-full bg-stone-900 text-white font-bold py-4 rounded-xl hover:bg-stone-800 transition-all shadow-lg flex justify-center items-center gap-2 text-lg transform hover:scale-[1.02]">
                        <span>Find My Schemes</span>
                        <i data-lucide="search" class="w-5 h-5"></i>
                    </button>
                </div>
            </div>

            <div id="resultsArea" class="hidden mt-12 space-y-8 fade-in-up">
                <div class="flex items-center justify-center gap-3">
                    <div class="h-[1px] w-12 bg-stone-300"></div>
                    <h2 class="text-xl font-bold text-stone-800 uppercase tracking-widest">Top 3 Matches</h2>
                    <div class="h-[1px] w-12 bg-stone-300"></div>
                </div>
                <div id="cardsContainer" class="space-y-6">
                </div>
            </div>
        </div>
    </section>

    <footer class="bg-stone-900 text-stone-400 py-12 mt-12 rounded-t-[3rem]">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <div class="flex items-center justify-center gap-2 mb-6">
                <i data-lucide="building-2" class="h-6 w-6 text-amber-500"></i>
                <span class="font-logo text-2xl font-bold text-white tracking-tight">JAN<span
                        class="text-amber-500">SETU</span></span>
            </div>
            <p class="mb-8 text-sm max-w-md mx-auto">Bridging the gap between Governance and Citizens through
                Technology, Transparency, and Trust.</p>
            <p class="text-xs opacity-50">© 2026 Government of India. All rights reserved.</p>
        </div>
    </footer>

    <script>
        lucide.createIcons();

        // Clock Script
        function updateClock() {
            const now = new Date();
            document.getElementById('clock').innerText = now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
        }
        setInterval(updateClock, 1000);
        updateClock();

        // --- Tubelight Navbar Logic ---
        function setActive(element) {
            const lamp = document.getElementById('active-lamp');
            const navItems = document.querySelectorAll('.nav-item');

            navItems.forEach(item => {
                item.classList.remove('text-amber-600', 'bg-amber-50/50');
                item.classList.add('text-stone-600');
            });

            const rect = element.getBoundingClientRect();
            const parentRect = element.parentElement.getBoundingClientRect();
            const left = rect.left - parentRect.left;
            const width = rect.width;

            lamp.style.left = `${left}px`;
            lamp.style.width = `${width}px`;
            lamp.style.opacity = '1';

            element.classList.remove('text-stone-600');
            element.classList.add('text-amber-600');
        }

        window.onload = () => {
            const firstItem = document.getElementById('nav-dashboard');
            if (firstItem) setActive(firstItem);
        };

        // --- AI Scheme Matcher Logic ---
        async function findSchemes() {
            const btn = document.getElementById('btnFind');
            const resultsArea = document.getElementById('resultsArea');
            const container = document.getElementById('cardsContainer');

            const payload = {
                age: document.getElementById('inAge').value,
                gender: document.getElementById('inGender').value,
                occupation: document.querySelector('input[name="occ"]:checked').value,
                income: document.getElementById('inIncome').value,
                state: document.getElementById('inState').value,
                category: document.getElementById('inCategory').value
            };

            if (!payload.age || !payload.income) { alert("Please enter Age and Income."); return; }

            btn.innerHTML = `<i data-lucide="loader-2" class="animate-spin w-5 h-5"></i> Matching Schemes...`;
            btn.disabled = true;
            resultsArea.classList.add('hidden');

            try {
                const response = await fetch('/citizen/find-schemes', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                const data = await response.json();

                if (data.error) throw new Error(data.error);

                const result = JSON.parse(data.analysis);
                container.innerHTML = "";

                result.schemes.forEach(scheme => {
                    let docsHtml = (scheme.documents_needed || []).map(doc =>
                        `<li class="flex items-center gap-2"><i data-lucide="check" class="w-3 h-3 text-green-500"></i> ${doc}</li>`
                    ).join('');

                    let probColor = scheme.approval_chance === "High" ? "bg-green-100 text-green-800" : "bg-yellow-100 text-yellow-800";

                    let finalLink = scheme.application_url;
                    if (!finalLink || finalLink === "SEARCH" || !finalLink.startsWith("http")) {
                        finalLink = `https://www.google.com/search?q=${encodeURIComponent(scheme.name + " official website apply online")}`;
                    }

                    const card = `
                        <div class="bg-white rounded-2xl shadow-md border border-stone-200 overflow-hidden hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1">
                            <div class="p-8">
                                <div class="flex justify-between items-start mb-4">
                                    <div>
                                        <p class="text-xs font-bold text-stone-400 uppercase tracking-wider mb-1">${scheme.ministry}</p>
                                        <h3 class="text-xl font-bold text-stone-900 font-logo">${scheme.name}</h3>
                                    </div>
                                    <span class="px-3 py-1 rounded-full text-xs font-bold uppercase ${probColor}">${scheme.approval_chance} Match</span>
                                </div>
                                <p class="text-stone-600 mb-6 leading-relaxed">${scheme.benefits}</p>
                                <div class="bg-stone-50 rounded-xl p-5 border border-stone-100">
                                    <h4 class="text-xs font-bold text-stone-500 uppercase mb-3 flex items-center gap-2"><i data-lucide="file-text" class="w-4 h-4"></i> Documents Required</h4>
                                    <ul class="text-sm text-stone-600 space-y-2 grid grid-cols-1 md:grid-cols-2">${docsHtml}</ul>
                                </div>
                                <a href="${finalLink}" target="_blank" class="w-full mt-6 bg-amber-600 hover:bg-amber-700 text-white font-bold py-3 rounded-xl transition-colors flex justify-center items-center gap-2 text-center decoration-none shadow-lg shadow-amber-100">
                                    Apply on Official Site <i data-lucide="external-link" class="w-4 h-4"></i>
                                </a>
                            </div>
                        </div>
                    `;
                    container.innerHTML += card;
                });

                resultsArea.classList.remove('hidden');
                resultsArea.scrollIntoView({ behavior: 'smooth' });
                lucide.createIcons();

            } catch (e) {
                console.error(e);
                alert("Service busy. Try again.");
            } finally {
                btn.innerHTML = `<span>Find My Schemes</span> <i data-lucide="search" class="w-5 h-5"></i>`;
                btn.disabled = false;
            }
        }

        // Chart.js Configuration
        const ctx = document.getElementById('benefitsChart').getContext('2d');
        new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                datasets: [{
                    label: 'Subsidy Received (₹)',
                    data: [2000, 0, 2000, 4500, 2000, 6000],
                    backgroundColor: '#d97706',
                    borderRadius: 6,
                    borderSkipped: false
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: { display: true, color: '#f5f5f4', borderDash: [5, 5] },
                        ticks: { font: { family: 'Inter', size: 10 } }
                    },
                    x: {
                        grid: { display: false },
                        ticks: { font: { family: 'Inter', size: 10 } }
                    }
                }
            }
        });
    </script>
</body>

</html>